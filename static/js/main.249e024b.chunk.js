(this["webpackJsonpbook-shelf"]=this["webpackJsonpbook-shelf"]||[]).push([[0],{124:function(t,e,c){},245:function(t,e,c){"use strict";c.r(e);var n=c(0),o=c.n(n),a=c(35),r=c.n(a),i=(c(124),c(34)),s=c(248),j=c(250),b=c(249),h=c(116),l=c(247),d="/book-shelf",u=c(3),O=function(){return Object(u.jsxs)(s.a,{bg:"primary",variant:"dark",children:[Object(u.jsx)(s.a.Brand,{href:"/",children:"Library"}),Object(u.jsxs)(j.a,{className:"mr-auto",children:[Object(u.jsx)(j.a.Link,{href:"".concat(d,"/"),children:"Home"}),Object(u.jsx)(j.a.Link,{href:"".concat(d,"/books"),children:"Books"}),Object(u.jsx)(j.a.Link,{href:"".concat(d,"/about"),children:"About"})]}),Object(u.jsxs)(b.a,{inline:!0,children:[Object(u.jsx)(h.a,{type:"text",placeholder:"Search",className:"mr-sm-2"}),Object(u.jsx)(l.a,{variant:"outline-light",children:"Search"})]})]})},x=c(9),f=function(){return Object(u.jsx)("h2",{children:"About"})},m=c(23),p=c(251),v=function(){Object(x.h)();var t=Object(n.useState)([]),e=Object(m.a)(t,2),c=e[0],o=e[1];Object(n.useEffect)((function(){fetch("https://raw.githubusercontent.com/dineshgudibandi/book-shelf/main/book-shelf.json").then((function(t){return t.json()})).then((function(t){o(t)}),(function(t){}))}),[]);var a=c.map((function(t){return Object(u.jsx)(p.a,{style:{width:"18rem"},children:Object(u.jsxs)(p.a.Body,{children:[Object(u.jsx)(p.a.Title,{children:t.name}),Object(u.jsx)(p.a.Text,{children:t.description}),Object(u.jsx)(l.a,{children:Object(u.jsx)(i.b,{to:{pathname:"".concat(d,"/book/").concat(t.slug),state:{book:t}},children:"Read"})})]})},t.slug)}));return Object(u.jsxs)("div",{children:[Object(u.jsx)("h2",{children:"Books"}),c.length>0&&a]})},k=(c(134),c(28)),g=c(118),S=c(119),y=c.n(S),C=(c(243),function(){Object(x.g)();var t,e,c=Object(x.f)(),o=null===(t=c.state)||void 0===t?void 0:t.book,a=null===(e=c.state)||void 0===e?void 0:e.chapter,r=Object(n.useState)([]),s=Object(m.a)(r,2),b=s[0],h=s[1],l=(Object(x.h)(),Object(n.useState)([])),O=Object(m.a)(l,2),f=O[0],p=O[1],v=Object(n.useState)(!1),S=Object(m.a)(v,2),C=S[0],N=S[1],w=Object(n.useState)(k.EditorState.createEmpty()),E=Object(m.a)(w,2),L=E[0],B=E[1],I=Object(n.useState)(o.pr),T=Object(m.a)(I,2),F=T[0],A=(T[1],Object(n.useState)("")),M=Object(m.a)(A,2),H=M[0],J=M[1],D=Object(n.useState)(o.location),P=Object(m.a)(D,2),R=P[0];P[1];Object(n.useEffect)((function(){o&&fetch(o.location+o.entry).then((function(t){return t.json()})).then((function(t){p(t),J(t[0].location),fetch(R+t[0].location).then((function(t){return t.json()})).then((function(t){h(t),K(t.content)}),(function(t){}))}),(function(t){}))}),[]),Object(n.useEffect)((function(){a&&(J(a.location),fetch(R+a.location).then((function(t){return t.json()})).then((function(t){h(t),K(t.content)}),(function(t){})))}),[a]);var _=f.map((function(t){return Object(u.jsx)(j.a,{defaultActiveKey:"#",className:"flex-column",children:Object(u.jsx)(i.b,{to:{pathname:"".concat(d,"/book/").concat(o.slug,"/").concat(t.slug),state:{chapter:t,book:o}},children:t.name})},t.slug)})),K=function(t){B(k.EditorState.createWithContent(k.ContentState.createFromBlockArray(Object(k.convertFromHTML)(t))))},W=function(t){var e=document.createElement("textarea");document.body.appendChild(e),e.value=t,e.select(),document.execCommand("copy"),document.body.removeChild(e)};return Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)("div",{className:"col-xl-2",children:f.length>0&&_}),Object(u.jsxs)("div",{className:"col-xl-8",children:[Object(u.jsx)("div",{children:Object(u.jsx)("button",{onClick:function(){N(!C)},children:C?"Never Mind":"Improve this Doc"})}),b&&!C&&Object(u.jsxs)("div",{children:[Object(u.jsxs)("span",{children:[" Author: ",b.authors]}),Object(u.jsx)("p",{children:Object(u.jsx)("div",{dangerouslySetInnerHTML:{__html:b.content}})})]}),b&&C&&Object(u.jsxs)("div",{children:[Object(u.jsx)(g.Editor,{editorState:L,wrapperClassName:"demo-wrapper",editorClassName:"demo-editor",onEditorStateChange:function(t){B(t)}}),Object(u.jsx)("button",{onClick:function(){var t=Object(k.convertToRaw)(L.getCurrentContent()),e=y()(t),c={authors:b.authors,content:e};W(JSON.stringify(c,null," ")),window.location.href=F+H},children:"Save"})]})]})]})}),N=function(){return Object(u.jsxs)(x.c,{children:[Object(u.jsx)(x.a,{path:"".concat(d,"/about"),children:Object(u.jsx)(f,{})}),Object(u.jsx)(x.a,{path:"".concat(d,"/book/:bookId/:chapterId"),children:Object(u.jsx)(C,{})}),Object(u.jsx)(x.a,{path:"".concat(d,"/book/:bookId"),children:Object(u.jsx)(C,{})}),Object(u.jsx)(x.a,{path:"".concat(d,"/books"),children:Object(u.jsx)(v,{})}),Object(u.jsx)(x.a,{path:d,children:Object(u.jsx)(v,{})}),Object(u.jsx)(x.a,{path:"/",children:Object(u.jsx)(v,{})})]})};c(244);function w(){return Object(u.jsx)(i.a,{children:Object(u.jsxs)("div",{children:[Object(u.jsx)(O,{}),Object(u.jsx)("div",{className:"container-fluid",children:Object(u.jsx)(N,{})})]})})}var E=function(t){t&&t instanceof Function&&c.e(3).then(c.bind(null,252)).then((function(e){var c=e.getCLS,n=e.getFID,o=e.getFCP,a=e.getLCP,r=e.getTTFB;c(t),n(t),o(t),a(t),r(t)}))};r.a.render(Object(u.jsx)(o.a.StrictMode,{children:Object(u.jsx)(w,{})}),document.getElementById("root")),E()}},[[245,1,2]]]);
//# sourceMappingURL=main.249e024b.chunk.js.map