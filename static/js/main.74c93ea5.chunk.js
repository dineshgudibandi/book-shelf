(this["webpackJsonpbook-shelf"]=this["webpackJsonpbook-shelf"]||[]).push([[0],{124:function(e,t,n){},245:function(e,t,n){"use strict";n.r(t);var c=n(0),o=n.n(c),a=n(35),r=n.n(a),i=(n(124),n(34)),s=n(248),j=n(250),b=n(249),l=n(116),h=n(247),d=n(3),u=function(){return Object(d.jsxs)(s.a,{bg:"primary",variant:"dark",children:[Object(d.jsx)(s.a.Brand,{href:"/",children:"Library"}),Object(d.jsxs)(j.a,{className:"mr-auto",children:[Object(d.jsx)(j.a.Link,{href:"/",children:"Home"}),Object(d.jsx)(j.a.Link,{href:"/books",children:"Books"}),Object(d.jsx)(j.a.Link,{href:"/about",children:"About"})]}),Object(d.jsxs)(b.a,{inline:!0,children:[Object(d.jsx)(l.a,{type:"text",placeholder:"Search",className:"mr-sm-2"}),Object(d.jsx)(h.a,{variant:"outline-light",children:"Search"})]})]})},O=n(9),f=function(){return Object(d.jsx)("h2",{children:"About"})},x=n(29),m=n(251),p=function(){Object(O.h)();var e=Object(c.useState)([]),t=Object(x.a)(e,2),n=t[0],o=t[1];Object(c.useEffect)((function(){fetch("https://raw.githubusercontent.com/dineshgudibandi/book-shelf/main/book-shelf.json").then((function(e){return e.json()})).then((function(e){o(e)}),(function(e){}))}),[]);var a=n.map((function(e){return Object(d.jsx)(m.a,{style:{width:"18rem"},children:Object(d.jsxs)(m.a.Body,{children:[Object(d.jsx)(m.a.Title,{children:e.name}),Object(d.jsx)(m.a.Text,{children:e.description}),Object(d.jsx)(h.a,{children:Object(d.jsx)(i.b,{to:{pathname:"/book/".concat(e.slug),state:{book:e}},children:"Read"})})]})},e.slug)}));return Object(d.jsxs)("div",{children:[Object(d.jsx)("h2",{children:"Books"}),n.length>0&&a]})},v=(n(134),n(27)),k=n(118),g=n(119),S=n.n(g),C=(n(243),function(){Object(O.g)();var e,t,n=Object(O.f)(),o=null===(e=n.state)||void 0===e?void 0:e.book,a=null===(t=n.state)||void 0===t?void 0:t.chapter,r=Object(c.useState)([]),s=Object(x.a)(r,2),b=s[0],l=s[1],h=(Object(O.h)(),Object(c.useState)([])),u=Object(x.a)(h,2),f=u[0],m=u[1],p=Object(c.useState)(!1),g=Object(x.a)(p,2),C=g[0],y=g[1],w=Object(c.useState)(v.EditorState.createEmpty()),N=Object(x.a)(w,2),E=N[0],L=N[1],B=Object(c.useState)(""),I=Object(x.a)(B,2),T=I[0],F=I[1];Object(c.useEffect)((function(){o&&fetch(o.location).then((function(e){return e.json()})).then((function(e){m(e),F(e[0].location),fetch(e[0].location).then((function(e){return e.json()})).then((function(e){l(e),M(e.content)}),(function(e){}))}),(function(e){}))}),[]),Object(c.useEffect)((function(){a&&(F(a.location),fetch(a.location).then((function(e){return e.json()})).then((function(e){l(e),M(e.content)}),(function(e){})))}),[a]);var A=f.map((function(e){return Object(d.jsx)(j.a,{defaultActiveKey:"#",className:"flex-column",children:Object(d.jsx)(i.b,{to:{pathname:"/book/".concat(o.slug,"/").concat(e.slug),state:{chapter:e,book:o}},children:e.name})},e.slug)})),M=function(e){L(v.EditorState.createWithContent(v.ContentState.createFromBlockArray(Object(v.convertFromHTML)(e))))},H=function(e){var t=document.createElement("textarea");document.body.appendChild(t),t.value=e,t.select(),document.execCommand("copy"),document.body.removeChild(t)};return Object(d.jsxs)("div",{className:"row",children:[Object(d.jsx)("div",{className:"col-xl-2",children:f.length>0&&A}),Object(d.jsxs)("div",{className:"col-xl-8",children:[Object(d.jsx)("div",{children:Object(d.jsx)("button",{onClick:function(){y(!C)},children:C?"Never Mind":"Improve this Doc"})}),b&&!C&&Object(d.jsxs)("div",{children:[Object(d.jsxs)("span",{children:[" Author: ",b.authors]}),Object(d.jsx)("p",{children:Object(d.jsx)("div",{dangerouslySetInnerHTML:{__html:b.content}})})]}),b&&C&&Object(d.jsxs)("div",{children:[Object(d.jsx)(k.Editor,{editorState:E,wrapperClassName:"demo-wrapper",editorClassName:"demo-editor",onEditorStateChange:function(e){L(e)}}),Object(d.jsx)("button",{onClick:function(){var e=Object(v.convertToRaw)(E.getCurrentContent()),t=S()(e),n={authors:b.authors,content:t};H(JSON.stringify(n,null," ")),window.location.href=T.replace("raw","edit")},children:"Save"})]})]})]})}),y=function(){return Object(d.jsxs)(O.c,{children:[Object(d.jsx)(O.a,{path:"/about",children:Object(d.jsx)(f,{})}),Object(d.jsx)(O.a,{path:"/book/:bookId/:chapterId",children:Object(d.jsx)(C,{})}),Object(d.jsx)(O.a,{path:"/book/:bookId",children:Object(d.jsx)(C,{})}),Object(d.jsx)(O.a,{path:"/books",children:Object(d.jsx)(p,{})}),Object(d.jsx)(O.a,{path:"/",children:Object(d.jsx)(p,{})})]})};n(244);function w(){return Object(d.jsx)(i.a,{children:Object(d.jsxs)("div",{children:[Object(d.jsx)(u,{}),Object(d.jsx)("div",{className:"container-fluid",children:Object(d.jsx)(y,{})})]})})}var N=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,252)).then((function(t){var n=t.getCLS,c=t.getFID,o=t.getFCP,a=t.getLCP,r=t.getTTFB;n(e),c(e),o(e),a(e),r(e)}))};r.a.render(Object(d.jsx)(o.a.StrictMode,{children:Object(d.jsx)(w,{})}),document.getElementById("root")),N()}},[[245,1,2]]]);
//# sourceMappingURL=main.74c93ea5.chunk.js.map